{"ast":null,"code":"var _jsxFileName = \"/home/leissan/Development/hiking/client/src/pages/hikes/UpdateHikePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport UserContext from '../../components/UserContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UpdateHikePage = _ref => {\n  _s();\n  let {\n    onUpdateHike\n  } = _ref;\n  const {\n    user\n  } = useContext(UserContext);\n  const {\n    id\n  } = useParams();\n  const history = useHistory();\n  const [hike, setHike] = useState(null);\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [level, setLevel] = useState('');\n  const [locationId, setLocationId] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  useEffect(() => {\n    // Simulated fetch to retrieve hike data based on the ID\n    const fetchHikeData = async () => {\n      try {\n        const response = await fetch(`/hikes/${id}`);\n        const hikeData = await response.json();\n        setHike(hikeData);\n        setTitle(hikeData.title);\n        setDescription(hikeData.description);\n        setLevel(hikeData.level);\n        setLocationId(hikeData.location_id);\n      } catch (error) {\n        console.error('Error retrieving hike data:', error);\n      }\n    };\n    fetchHikeData();\n  }, [id]);\n  const handleUpdate = async e => {\n    e.preventDefault();\n    setIsLoading(true);\n    try {\n      // Simulated API request to update the hike data\n      await fetch(`/hikes/${id}/owners`, {\n        method: 'PUT',\n        body: JSON.stringify({\n          hike: {\n            title,\n            description,\n            level,\n            location_id: locationId\n          }\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(r => r.json()).then(t => {\n        onUpdateHike(t);\n        setIsLoading(false);\n        history.push(`/hike/${id}`);\n      });\n    } catch (error) {\n      console.error('Error updating hike:', error);\n      setIsLoading(false);\n    }\n  };\n  const handleSelect = e => {\n    setLocationId(e.target.value);\n  };\n  if (!hike) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading hike data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Update Hike\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleUpdate,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Title:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: title,\n          onChange: e => setTitle(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: description,\n          onChange: e => setDescription(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Level:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: level,\n          onChange: e => setLevel(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Location:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: handleSelect,\n          children: user.locations.map(item => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: item.id,\n              children: [item.title, \", address: \", item.address]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 37\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isLoading,\n        children: isLoading ? 'Updating...' : 'Update Hike'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n};\n_s(UpdateHikePage, \"mmMcg/ssVNpM+TJtvt6EuxIRpco=\", false, function () {\n  return [useParams, useHistory];\n});\n_c = UpdateHikePage;\nexport default UpdateHikePage;\nvar _c;\n$RefreshReg$(_c, \"UpdateHikePage\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useParams","useHistory","UserContext","jsxDEV","_jsxDEV","UpdateHikePage","_ref","_s","onUpdateHike","user","id","history","hike","setHike","title","setTitle","description","setDescription","level","setLevel","locationId","setLocationId","isLoading","setIsLoading","fetchHikeData","response","fetch","hikeData","json","location_id","error","console","handleUpdate","e","preventDefault","method","body","JSON","stringify","headers","then","r","t","push","handleSelect","target","value","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","locations","map","item","address","disabled","_c","$RefreshReg$"],"sources":["/home/leissan/Development/hiking/client/src/pages/hikes/UpdateHikePage.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport UserContext from '../../components/UserContext';\n\nconst UpdateHikePage = ({onUpdateHike}) => {\n    const { user } = useContext(UserContext);\n    const { id } = useParams();\n    const history = useHistory();\n    const [hike, setHike] = useState(null);\n    const [title, setTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [level, setLevel] = useState('');\n    const [locationId, setLocationId] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n\n    useEffect(() => {\n        // Simulated fetch to retrieve hike data based on the ID\n        const fetchHikeData = async () => {\n            try {\n                const response = await fetch(`/hikes/${id}`);\n                const hikeData = await response.json();\n                setHike(hikeData);\n                setTitle(hikeData.title);\n                setDescription(hikeData.description);\n                setLevel(hikeData.level);\n                setLocationId(hikeData.location_id);\n            } catch (error) {\n                console.error('Error retrieving hike data:', error);\n            }\n        };\n\n        fetchHikeData();\n    }, [id]);\n\n    const handleUpdate = async (e) => {\n        e.preventDefault();\n        setIsLoading(true);\n\n        try {\n            // Simulated API request to update the hike data\n            await fetch(`/hikes/${id}/owners`, {\n                method: 'PUT',\n                body: JSON.stringify({\n                    hike: {title, description, level, location_id: locationId},\n                }),\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            }).then((r) => r.json())\n                .then((t) => {\n                    onUpdateHike(t)\n                    setIsLoading(false);\n                    history.push(`/hike/${id}`);\n                });\n        } catch (error) {\n            console.error('Error updating hike:', error);\n            setIsLoading(false);\n        }\n    };\n\n    const handleSelect = (e) => {\n        setLocationId(e.target.value);\n    };\n\n    if (!hike) {\n        return <div>Loading hike data...</div>;\n    }\n\n    return (\n        <div>\n            <h1>Update Hike</h1>\n            <form onSubmit={handleUpdate}>\n                <div>\n                    <label>Title:</label>\n                    <input\n                        type=\"text\"\n                        value={title}\n                        onChange={(e) => setTitle(e.target.value)}\n                    />\n                </div>\n                <div>\n                    <label>Description:</label>\n                    <textarea\n                        value={description}\n                        onChange={(e) => setDescription(e.target.value)}\n                    ></textarea>\n                </div>\n                <div>\n                    <label>Level:</label>\n                    <input\n                        type=\"text\"\n                        value={level}\n                        onChange={(e) => setLevel(e.target.value)}\n                    />\n                </div>\n                <div>\n                    <label>Location:</label>\n                    <select onChange={handleSelect}>\n                        {user.locations.map(item => {\n                            return (<option value={item.id} key={item.id}>{item.title}, address: {item.address}</option>);\n                        })}\n                    </select>\n                </div>\n                <button type=\"submit\" disabled={isLoading}>\n                    {isLoading ? 'Updating...' : 'Update Hike'}\n                </button>\n            </form>\n        </div>\n    );\n};\n\nexport default UpdateHikePage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}