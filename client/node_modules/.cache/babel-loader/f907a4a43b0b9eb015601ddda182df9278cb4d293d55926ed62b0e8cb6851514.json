{"ast":null,"code":"var _jsxFileName = \"/home/leissan/Development/hiking/client/src/pages/hikes/CreateHikePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport UserContext from '../../components/UserContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateHikePage = _ref => {\n  _s();\n  let {\n    user,\n    onCreateHike\n  } = _ref;\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [level, setLevel] = useState('');\n  const [locationId, setLocationId] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const history = useHistory();\n  const handleCreate = async e => {\n    e.preventDefault();\n    setIsLoading(true);\n    try {\n      // Simulated API request to create a new hike\n      const response = await fetch('/hikes', {\n        method: 'POST',\n        body: JSON.stringify({\n          hike: {\n            title,\n            description,\n            level,\n            location_id: locationId\n          }\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(r => r.json()).then(t => {\n        onCreateHike(t);\n        history.push(\"/\");\n      });\n    } catch (error) {\n      console.error('Error creating hike:', error);\n    }\n    setIsLoading(false);\n  };\n  const handleSelect = e => {\n    setLocationId(e.target.value);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Create Hike\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleCreate,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Title:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: title,\n          onChange: e => setTitle(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: description,\n          onChange: e => setDescription(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Level:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: level,\n          onChange: e => setLevel(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Location:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: handleSelect,\n          children: user.locations.map(item => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: item.id,\n              children: [item.title, \", address: \", item.address]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 33\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isLoading,\n        children: isLoading ? 'Creating...' : 'Create Hike'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 13\n  }, this);\n};\n_s(CreateHikePage, \"zHedFH4PVvmRtcYLJu6HVFy4J2Q=\", false, function () {\n  return [useHistory];\n});\n_c = CreateHikePage;\nexport default CreateHikePage;\nvar _c;\n$RefreshReg$(_c, \"CreateHikePage\");","map":{"version":3,"names":["React","useState","useContext","useHistory","UserContext","jsxDEV","_jsxDEV","CreateHikePage","_ref","_s","user","onCreateHike","title","setTitle","description","setDescription","level","setLevel","locationId","setLocationId","isLoading","setIsLoading","history","handleCreate","e","preventDefault","response","fetch","method","body","JSON","stringify","hike","location_id","headers","then","r","json","t","push","error","console","handleSelect","target","value","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","locations","map","item","id","address","disabled","_c","$RefreshReg$"],"sources":["/home/leissan/Development/hiking/client/src/pages/hikes/CreateHikePage.js"],"sourcesContent":["\nimport React, {useState, useContext} from 'react';\nimport {useHistory} from \"react-router-dom\";\nimport UserContext from '../../components/UserContext';\n\nconst CreateHikePage = ({user, onCreateHike}) => {\n    const [title, setTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [level, setLevel] = useState('');\n    const [locationId, setLocationId] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n    const history = useHistory()\n\n    const handleCreate = async (e) => {\n        e.preventDefault();\n        setIsLoading(true);\n\n        try {\n            // Simulated API request to create a new hike\n            const response = await fetch('/hikes', {\n                method: 'POST', body: JSON.stringify({\n                    hike: {\n                        title, description, level, location_id: locationId,\n                    }\n                }), headers: {\n                    'Content-Type': 'application/json',\n                },\n            }).then((r) => r.json())\n                .then((t) => {\n                    onCreateHike(t)\n                    history.push(\"/\")\n                });\n        } catch (error) {\n            console.error('Error creating hike:', error);\n        }\n\n        setIsLoading(false);\n    };\n\n    const handleSelect = (e) => {\n        setLocationId(e.target.value);\n    };\n\n    return (<div>\n        <h1>Create Hike</h1>\n        <form onSubmit={handleCreate}>\n            <div>\n                <label>Title:</label>\n                <input\n                    type=\"text\"\n                    value={title}\n                    onChange={(e) => setTitle(e.target.value)}\n                />\n            </div>\n            <div>\n                <label>Description:</label>\n                <textarea\n                    value={description}\n                    onChange={(e) => setDescription(e.target.value)}\n                ></textarea>\n            </div>\n            <div>\n                <label>Level:</label>\n                <input\n                    type=\"text\"\n                    value={level}\n                    onChange={(e) => setLevel(e.target.value)}\n                />\n            </div>\n            <div>\n                <label>Location:</label>\n                <select onChange={handleSelect}>\n                    {user.locations.map(item => {\n                        return (<option value={item.id} key={item.id}>{item.title}, address: {item.address}</option>);\n                    })}\n                </select>\n            </div>\n            <button type=\"submit\" disabled={isLoading}>\n                {isLoading ? 'Creating...' : 'Create Hike'}\n            </button>\n        </form>\n    </div>);\n};\n\nexport default CreateHikePage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}