{"ast":null,"code":"var _jsxFileName = \"/home/leissan/Development/hiking/client/src/pages/hikes/UpdateHikePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UpdateHikePage = currentUser => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const history = useHistory();\n  const [hike, setHike] = useState(null);\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [level, setLevel] = useState('');\n  const [locationId, setLocationId] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  useEffect(() => {\n    // Simulated fetch to retrieve hike data based on the ID\n    const fetchHikeData = async () => {\n      try {\n        const response = await fetch(`/hikes/${id}`);\n        const hikeData = await response.json();\n        setHike(hikeData);\n        setTitle(hikeData.title);\n        setDescription(hikeData.description);\n        setLevel(hikeData.level);\n        setLocationId(hikeData.location_id);\n      } catch (error) {\n        console.error('Error retrieving hike data:', error);\n      }\n    };\n    fetchHikeData();\n  }, [id]);\n  const handleUpdate = async e => {\n    e.preventDefault();\n    setIsLoading(true);\n    try {\n      // Simulated API request to update the hike data\n      await fetch(`/hikes/${id}/owners`, {\n        method: 'PUT',\n        body: JSON.stringify({\n          hike: {\n            title,\n            description,\n            level,\n            location_id: locationId\n          }\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      setIsLoading(false);\n      history.push(`/hike/${id}`);\n    } catch (error) {\n      console.error('Error updating hike:', error);\n      setIsLoading(false);\n    }\n  };\n  const handleSelect = e => {\n    setLocationId(e.target.value);\n  };\n  if (!hike) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading hike data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Update Hike\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleUpdate,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Title:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: title,\n          onChange: e => setTitle(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: description,\n          onChange: e => setDescription(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Level:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: level,\n          onChange: e => setLevel(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Location:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: handleSelect,\n          children: currentUser.user.locations.map(item => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: item.id,\n              children: [item.title, \", address: \", item.address]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 37\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isLoading,\n        children: isLoading ? 'Updating...' : 'Update Hike'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n_s(UpdateHikePage, \"8la0Pky7BrvZpgVENe9//u0WUt4=\", false, function () {\n  return [useParams, useHistory];\n});\n_c = UpdateHikePage;\nexport default UpdateHikePage;\nvar _c;\n$RefreshReg$(_c, \"UpdateHikePage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useHistory","jsxDEV","_jsxDEV","UpdateHikePage","currentUser","_s","id","history","hike","setHike","title","setTitle","description","setDescription","level","setLevel","locationId","setLocationId","isLoading","setIsLoading","fetchHikeData","response","fetch","hikeData","json","location_id","error","console","handleUpdate","e","preventDefault","method","body","JSON","stringify","headers","push","handleSelect","target","value","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","user","locations","map","item","address","disabled","_c","$RefreshReg$"],"sources":["/home/leissan/Development/hiking/client/src/pages/hikes/UpdateHikePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\n\nconst UpdateHikePage = (currentUser) => {\n    const { id } = useParams();\n    const history = useHistory();\n    const [hike, setHike] = useState(null);\n    const [title, setTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [level, setLevel] = useState('');\n    const [locationId, setLocationId] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n\n    useEffect(() => {\n        // Simulated fetch to retrieve hike data based on the ID\n        const fetchHikeData = async () => {\n            try {\n                const response = await fetch(`/hikes/${id}`);\n                const hikeData = await response.json();\n                setHike(hikeData);\n                setTitle(hikeData.title);\n                setDescription(hikeData.description);\n                setLevel(hikeData.level);\n                setLocationId(hikeData.location_id);\n            } catch (error) {\n                console.error('Error retrieving hike data:', error);\n            }\n        };\n\n        fetchHikeData();\n    }, [id]);\n\n    const handleUpdate = async (e) => {\n        e.preventDefault();\n        setIsLoading(true);\n\n        try {\n            // Simulated API request to update the hike data\n            await fetch(`/hikes/${id}/owners`, {\n                method: 'PUT',\n                body: JSON.stringify({\n                    hike: {title, description, level, location_id: locationId},\n                }),\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            });\n\n            setIsLoading(false);\n            history.push(`/hike/${id}`);\n        } catch (error) {\n            console.error('Error updating hike:', error);\n            setIsLoading(false);\n        }\n    };\n\n    const handleSelect = (e) => {\n        setLocationId(e.target.value);\n    };\n\n    if (!hike) {\n        return <div>Loading hike data...</div>;\n    }\n\n    return (\n        <div>\n            <h1>Update Hike</h1>\n            <form onSubmit={handleUpdate}>\n                <div>\n                    <label>Title:</label>\n                    <input\n                        type=\"text\"\n                        value={title}\n                        onChange={(e) => setTitle(e.target.value)}\n                    />\n                </div>\n                <div>\n                    <label>Description:</label>\n                    <textarea\n                        value={description}\n                        onChange={(e) => setDescription(e.target.value)}\n                    ></textarea>\n                </div>\n                <div>\n                    <label>Level:</label>\n                    <input\n                        type=\"text\"\n                        value={level}\n                        onChange={(e) => setLevel(e.target.value)}\n                    />\n                </div>\n                <div>\n                    <label>Location:</label>\n                    <select onChange={handleSelect}>\n                        {currentUser.user.locations.map(item => {\n                            return (<option value={item.id} key={item.id}>{item.title}, address: {item.address}</option>);\n                        })}\n                    </select>\n                </div>\n                <button type=\"submit\" disabled={isLoading}>\n                    {isLoading ? 'Updating...' : 'Update Hike'}\n                </button>\n            </form>\n        </div>\n    );\n};\n\nexport default UpdateHikePage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}